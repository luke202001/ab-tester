"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const HttpClient_1 = require("./HttpClient");
const IODataSource_1 = require("./IODataSource");
const eventRoute = (route) => `/events/${route}`;
const forWorkspaceWithoutRecorder = ({ service, context, options }) => (service && context)
    ? HttpClient_1.HttpClient.forWorkspace(service, HttpClient_1.withoutRecorder(context), options || {})
    : undefined;
class Events extends IODataSource_1.IODataSource {
    constructor() {
        super(...arguments);
        this.service = 'colossus';
        this.httpClientFactory = forWorkspaceWithoutRecorder;
        this.sendEvent = (subject, route, message) => {
            return this.http.put(eventRoute(route), message, { params: { subject } });
        };
    }
}
exports.Events = Events;
